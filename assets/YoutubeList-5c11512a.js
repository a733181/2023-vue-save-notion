import{j as r,k as I,o as n,c as i,b as d,e as s,I as m,B as b,n as S,t as x,l as _,m as U}from"./index-6544b75a.js";import{u as V}from"./swal-9176418d.js";import{u as w}from"./youtube-1a9322a7.js";const P={class:"flex min-h-[100vh] items-center justify-center"},h=["onSubmit"],k={class:"mb-10 flex items-center justify-center gap-x-3"},T={__name:"YoutubeList",setup(B){const o=V(),c=w(),{youtubeListToNotionHandler:f}=c,t=r(!1),a=r(0),e=I({mainPageId:"",youtubeUrl:""});function p(){e.mainPageId="",e.youtubeUrl=""}function v(){return e.mainPageId===""?(o.toastSimple("error","請輸入 Notion API 頁面 ID"),!1):e.youtubeUrl===""?(o.toastSimple("error","請輸入 YouTube 播放清單網址"),!1):e.youtubeUrl.includes("https://www.youtube.com/playlist?list=")?!0:(o.toastSimple("error","請輸入正確的 YouTube 播放清單網址"),!1)}async function y(){if(!v())return;a.value=0,t.value=!0,await f(e)?a.value=1:a.value=2,t.value=!1,e.courseUrl=""}return(g,l)=>(n(),i("div",P,[d("form",{onSubmit:U(y,["prevent"])},[s(m,{label:"notion API 頁面 ID",classLabel:"mr-3",class:"mb-5 ml-7",modelValue:e.mainPageId,"onUpdate:modelValue":l[0]||(l[0]=u=>e.mainPageId=u),disabled:t.value},null,8,["modelValue","disabled"]),s(m,{label:"YouTube 播放清單網址",classLabel:"mr-3",class:"mb-5",modelValue:e.youtubeUrl,"onUpdate:modelValue":l[1]||(l[1]=u=>e.youtubeUrl=u),disabled:t.value},null,8,["modelValue","disabled"]),d("div",k,[s(b,{text:"清除",class:"btn bg-slate-200",onClick:p,disabled:t.value},null,8,["disabled"]),s(b,{text:"送出",class:"btn bg-teal-700 text-white",type:"submit",loading:t.value,disabled:t.value},null,8,["loading","disabled"])]),a.value?(n(),i("p",{key:0,class:S(["text-center",{"text-red-200":a.value===2}])}," 加入"+x(a.value==1?"成功":"失敗"),3)):_("",!0)],40,h)]))}};export{T as default};
